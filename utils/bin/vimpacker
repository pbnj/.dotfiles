#!/bin/bash

set -eou pipefail

echo "Creating (neo)vim configuration directories..."
VIM_PACK_PATH="${HOME}/.vim/pack/pbnj/start"

mkdir -p "${VIM_PACK_PATH}"

for url in \
	https://github.com/dense-analysis/ale \
	https://github.com/editorconfig/editorconfig-vim \
	https://github.com/junegunn/fzf \
	https://github.com/junegunn/fzf.vim \
	https://github.com/kana/vim-textobj-user \
	https://github.com/ludovicchabant/vim-gutentags \
	https://github.com/machakann/vim-highlightedyank \
	https://github.com/preservim/tagbar \
	https://github.com/romainl/vim-cool \
	https://github.com/tpope/vim-abolish \
	https://github.com/tpope/vim-commentary \
	https://github.com/tpope/vim-dadbod \
	https://github.com/tpope/vim-dispatch \
	https://github.com/tpope/vim-eunuch \
	https://github.com/tpope/vim-fugitive \
	https://github.com/tpope/vim-rhubarb \
	https://github.com/tpope/vim-vinegar \
	https://github.com/vim-test/vim-test \
	https://github.com/wellle/targets.vim \
	https://github.com/wellle/tmux-complete.vim; do

	PROJECT_NAME="$(echo "${url}" | awk -F'/' '{print $5}')"
	PROJECT_PATH="${VIM_PACK_PATH}/${PROJECT_NAME}"

	echo "Downloading ${PROJECT_NAME} from ${url} into ${PROJECT_PATH} ..."
	git -C "${PROJECT_PATH}" pull || git clone --depth=1 "${url}" "${PROJECT_PATH}"

done
