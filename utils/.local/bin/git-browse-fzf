#!/bin/bash

# Author: Peter Benjamin
# Description: Open git file from local repo in the browser
# Dependencies:
# - git
# - git-extras
# - fzf
# - bat
# - awk

set -eou pipefail

git ls-files |
	fzf-tmux --reverse -p '90%' --preview 'cat {}' |
	xargs -t -L1 git browse "$(git config branch."$(git rev-parse --abbrev-ref HEAD 2>/dev/null)".remote || echo 'origin')" ||
	true
