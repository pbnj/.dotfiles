[user]
	name = Peter Benjamin
	email = petermbenjamin@gmail.com

[url "personal:pbnj/"]
  insteadOf = "https://github.com/pbnj/"

[alias]
  alias = !git config -l | grep ^alias | cut -c 7- | sort
  branches = branch -a --sort=-committerdate
  c = commit
  co = checkout
  contributors = shortlog --summary --numbered
  czc = cz commit
  graph = log --graph --color --pretty=format:"%C(yellow)%H%C(green)%d%C(reset)%n%x20%cd%n%x20%cn%x20(%ce)%n%x20%s%n"
  l = log --pretty=oneline --graph --abbrev-commit
  ls = ls-files
  p = push
  remotes = remote -v
  s = status --short .
  tags = tag --list
  top = !git log --format=format:%an | sort | uniq -c | sort -r | head -n 20
  undo = !git reset HEAD~1 --mixed
  unstage = reset

[apply]
  whitespace = fix

[core]
  whitespace = space-before-tab,-indent-with-non-tab,trailing-space
  trustctime = false

[merge]
  conflictStyle = diff3
  defaultToUpstream = true
  tool = vimdiff

[diff]
  tool = vimdiff

[branch]
  autoSetupMerge = always

[color]
  ui = auto

[push]
  default = current

[pull]
  rebase = true

[init]
  defaultBranch = main

[commit]
  verbose = true

[grep]
  lineNumber = true
  column = true
  fallbackToNoIndex = true

[log]
  showSignature = false
  diffMerges = on

[includeIf "hasconfig:remote.*.url:work:komodohealth/**"]
  path = ~/.config/git/work.config

[url "work:komodohealth/"]
  insteadOf = "https://github.com/komodohealth/"

; git commit signing
; https://developer.1password.com/docs/ssh/git-commit-signing
[user]
  signingkey = ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAINcFm5rlVWP2ylrKOVINDm8hSxm42/zctUfHnvvWRH3C

[gpg]
  format = ssh

[gpg "ssh"]
  program = "/Applications/1Password.app/Contents/MacOS/op-ssh-sign"
	allowedSignersFile = ~/.ssh/allowed_signers

[commit]
  gpgsign = true
